# IKM-Shurmanov
Шурманов Демид ИТ-9
Задача № 17
Суть задачи:
# Проект: Почтальон в Лукоморье

## Описание проекта
Данный проект представляет собой программу на Python, решающую задачу о почтальоне-тритоне, который доставляет письма птицам, живущим в гнёздах на дубе. Дуб представлен в виде дерева, где каждое гнездо имеет уникальный номер. Тритон может перемещаться только по ветвям, и если он проходит через гнездо, не доставляя туда письмо, он должен извиниться. Цель — найти минимальное количество таких извинений.

## Автор
- ФИО: Шурманов Демид Андреевич
- Группа: ИТ-9

## Требования
- Python 3.x.
- Отсутствие внешних библиотек, использование только встроенных функций и методов.
- Соответствие кодстайлу PEP 8, применение аннотаций типов и принципов ООП (DRY, KISS, SoC, SOLID).

## Алгоритм и идея решения
Задача решается с использованием следующих шагов:

- Чтение данных: Функция read_input читает данные из файла, где:
- Первая строка — количество гнёзд M
- Последующие M строк описывают каждое гнездо (количество соседей, писем и номера соседних гнёзд)
- Построение дерева: Функция build_tree создаёт структуру дерева с помощью обхода в ширину (BFS), определяя      родителей и глубину для каждого узла.
- Определение целевых узлов: Функция __collect_target_nodes находит гнёзда, куда нужно доставить письма.
- Построение поддерева: Функция __build_subtree включает все целевые гнёзда и их предков.
- Расчёт извинений: Функция _calculate_apologies вычисляет минимальное количество извинений по формуле

<!-- total_visits = 2 * (размер поддерева - 1) - максимальная глубина целевого узла + 1
извинения = total_visits - количество доставок -->

## Инструкции
1. Подготовьте входной файл в формате:

text
M
n1 l1 сосед1 сосед2 ...
n2 l2 сосед1 ...
...
где:

M — количество гнёзд
ni — количество соседей i-го гнезда
li — количество писем для i-го гнезда
соседX — номера соседних гнёзд

2. Запустите программу:
python postman_solver.py

3. Результат (количество извинений) будет выведен на экран и сохранён в файл output.txt.

## Особенности
- Код написан с использованием методологии ООП (классы и функции).
- Включена обработка исключений (FileNotFoundError, ValueError) для некорректного ввода.
- Дружественный интерфейс реализован через автоматическую обработку файлов без интерактивного ввода.

## Тестовые примеры
- Пример 1:
  - input.txt: 
5
3 2 2 5 4
1 1 1
1 1 4
2 2 3 1
1 3 1
  - output.txt: 2
- Пример 2:
  - input.txt: 
3
2 0 2 3
1 0 1
1 0 1
  - output.txt: 0

## Примечания
Исходный код доступен в этом репозитории.

(выходной файл)


2
